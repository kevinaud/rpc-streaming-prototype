<mat-card class="history-card">
  <mat-card-header>
    <mat-card-title>Proposal History</mat-card-title>
  </mat-card-header>

  <mat-card-content>
    @if (sessionState.proposalHistory().length === 0) {
      <div class="empty-state">
        <mat-icon>history</mat-icon>
        <p>No proposals yet</p>
        <p class="hint">Proposals will appear here as they are submitted</p>
      </div>
    } @else {
      <div class="proposal-list">
        @for (
          proposal of sessionState.proposalHistory();
          track trackByProposalId($index, proposal)
        ) {
          @let config = getStatusConfig(proposal.status);
          <div class="proposal-item">
            <mat-icon [class]="config.cssClass">
              {{ config.icon }}
            </mat-icon>
            <div class="proposal-content">
              <div class="proposal-text">{{ proposal.text }}</div>
              <div class="proposal-meta">
                <mat-chip [class]="config.cssClass">
                  {{ config.label }}
                </mat-chip>
                @if (toDate(proposal); as date) {
                  <span class="timestamp">{{ date | date: 'short' }}</span>
                }
              </div>
            </div>
          </div>
        }
      </div>
    }
  </mat-card-content>
</mat-card>
